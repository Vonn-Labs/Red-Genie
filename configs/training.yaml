# wandb
use_wandb: true
wandb_project: tinyworlds

# dataset
dataset: POKEMON       # This tells the code to look for the 'POKEMON' if/else block we made in data_utils.py
preload_ratio: 0.005   # Low ratio to save RAM on your Mac

# shared model params
patch_size: 8
context_length: 16     # Matches Genie paper
frame_size: 128        # Matches your pokemon.h5
latent_dim: 8
num_bins: 4
n_actions: 8           # Matches Game Boy inputs (Up, Down, Left, Right, A, B, Start, Select/Null)

# --- MEMORY OPTIMIZATION FOR M2 MAC ---
batch_size_per_gpu: 1           # CRITICAL: Process 1 video at a time (was likely default 32)
gradient_accumulation_steps: 8  # Accumulate 8 steps to simulate a batch of 8 (Stabilizes training)

# performance (M2 Mac Optimized)
amp: true
tf32: false            # DISABLED: NVIDIA only
compile: false         # DISABLED: Causes crashes on Mac MPS

# distributed launch (torchrun)
distributed: 
  use_ddp: False
  use_fsdp: False
  reshard_after_forward: False
nproc_per_node: 1 
standalone: true 

# stage configs
video_tokenizer_config: configs/video_tokenizer.yaml
latent_actions_config: configs/latent_actions.yaml
dynamics_config: configs/dynamics.yaml

# which stages to run
run_video_tokenizer: true
run_latent_actions: true
run_dynamics: true

# --- DO NOT ADD ANYTHING BELOW THIS LINE ---